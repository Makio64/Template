var Stage3d;

Stage3d = (function() {
  function Stage3d() {}

  Stage3d.camera = null;

  Stage3d.cameraTarget = null;

  Stage3d.scene = null;

  Stage3d.projector = null;

  Stage3d.renderer = null;

  Stage3d.init = function(options) {
    var antialias, h, transparent, w;
    w = window.innerWidth;
    h = window.innerHeight;
    this.camera = new THREE.PerspectiveCamera(40, w / h, 1, 10000);
    this.camera.position.z = 15000;
    this.cameraTarget = new THREE.Vector3(0, 0, 400);
    this.scene = new THREE.Scene();
    this.projector = new THREE.Projector();
    transparent = options.transparent || false;
    antialias = options.antialias || false;
    this.renderer = new THREE.WebGLRenderer({
      alpha: transparent,
      antialias: antialias
    });
    this.renderer.setSize(w, h);
    document.body.appendChild(this.renderer.domElement);
  };

  Stage3d.add = function(obj) {
    this.scene.add(obj);
  };

  Stage3d.render = function() {
    this.camera.position.x += (this.cameraTarget.x - this.camera.position.x) * 0.05;
    this.camera.position.y += (this.cameraTarget.y - this.camera.position.y) * 0.05;
    this.camera.position.z += (this.cameraTarget.z - this.camera.position.z) * 0.05;
    this.camera.lookAt(this.scene.position);
    Stage3d.renderer.render(this.scene, this.camera);
  };

  Stage3d.resize = function() {
    if (this.renderer) {
      this.camera.aspect = window.innerWidth / window.innerHeight;
      this.camera.updateProjectionMatrix();
      this.renderer.setSize(window.innerWidth, window.innerHeight);
    }
  };

  return Stage3d;

})();

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvcmUvM2QvU3RhZ2UzZC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUEsSUFBQSxPQUFBOztBQUFBO3VCQUVDOztBQUFBLEVBQUEsT0FBQyxDQUFBLE1BQUQsR0FBVSxJQUFWLENBQUE7O0FBQUEsRUFDQSxPQUFDLENBQUEsWUFBRCxHQUFnQixJQURoQixDQUFBOztBQUFBLEVBRUEsT0FBQyxDQUFBLEtBQUQsR0FBUyxJQUZULENBQUE7O0FBQUEsRUFHQSxPQUFDLENBQUEsU0FBRCxHQUFhLElBSGIsQ0FBQTs7QUFBQSxFQUlBLE9BQUMsQ0FBQSxRQUFELEdBQVksSUFKWixDQUFBOztBQUFBLEVBTUEsT0FBQyxDQUFBLElBQUQsR0FBUSxTQUFDLE9BQUQsR0FBQTtBQUNQLFFBQUEsNEJBQUE7QUFBQSxJQUFBLENBQUEsR0FBSSxNQUFNLENBQUMsVUFBWCxDQUFBO0FBQUEsSUFDQSxDQUFBLEdBQUksTUFBTSxDQUFDLFdBRFgsQ0FBQTtBQUFBLElBR0EsSUFBQyxDQUFBLE1BQUQsR0FBYyxJQUFBLEtBQUssQ0FBQyxpQkFBTixDQUF5QixFQUF6QixFQUE2QixDQUFBLEdBQUksQ0FBakMsRUFBb0MsQ0FBcEMsRUFBdUMsS0FBdkMsQ0FIZCxDQUFBO0FBQUEsSUFJQSxJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFqQixHQUFxQixLQUpyQixDQUFBO0FBQUEsSUFLQSxJQUFDLENBQUEsWUFBRCxHQUFvQixJQUFBLEtBQUssQ0FBQyxPQUFOLENBQWMsQ0FBZCxFQUFnQixDQUFoQixFQUFrQixHQUFsQixDQUxwQixDQUFBO0FBQUEsSUFPQSxJQUFDLENBQUEsS0FBRCxHQUFhLElBQUEsS0FBSyxDQUFDLEtBQU4sQ0FBQSxDQVBiLENBQUE7QUFBQSxJQVFBLElBQUMsQ0FBQSxTQUFELEdBQWlCLElBQUEsS0FBSyxDQUFDLFNBQU4sQ0FBQSxDQVJqQixDQUFBO0FBQUEsSUFVQSxXQUFBLEdBQWMsT0FBTyxDQUFDLFdBQVIsSUFBcUIsS0FWbkMsQ0FBQTtBQUFBLElBV0EsU0FBQSxHQUFZLE9BQU8sQ0FBQyxTQUFSLElBQW1CLEtBWC9CLENBQUE7QUFBQSxJQWFBLElBQUMsQ0FBQSxRQUFELEdBQWdCLElBQUEsS0FBSyxDQUFDLGFBQU4sQ0FBb0I7QUFBQSxNQUFDLEtBQUEsRUFBTSxXQUFQO0FBQUEsTUFBbUIsU0FBQSxFQUFVLFNBQTdCO0tBQXBCLENBYmhCLENBQUE7QUFBQSxJQWNBLElBQUMsQ0FBQSxRQUFRLENBQUMsT0FBVixDQUFtQixDQUFuQixFQUFzQixDQUF0QixDQWRBLENBQUE7QUFBQSxJQWdCQSxRQUFRLENBQUMsSUFBSSxDQUFDLFdBQWQsQ0FBMEIsSUFBQyxDQUFBLFFBQVEsQ0FBQyxVQUFwQyxDQWhCQSxDQURPO0VBQUEsQ0FOUixDQUFBOztBQUFBLEVBMEJBLE9BQUMsQ0FBQSxHQUFELEdBQU8sU0FBQyxHQUFELEdBQUE7QUFDTixJQUFBLElBQUMsQ0FBQSxLQUFLLENBQUMsR0FBUCxDQUFXLEdBQVgsQ0FBQSxDQURNO0VBQUEsQ0ExQlAsQ0FBQTs7QUFBQSxFQThCQSxPQUFDLENBQUEsTUFBRCxHQUFVLFNBQUEsR0FBQTtBQUNULElBQUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBakIsSUFBc0IsQ0FBQyxJQUFDLENBQUEsWUFBWSxDQUFDLENBQWQsR0FBZ0IsSUFBQyxDQUFBLE1BQU0sQ0FBQyxRQUFRLENBQUMsQ0FBbEMsQ0FBQSxHQUFxQyxJQUEzRCxDQUFBO0FBQUEsSUFDQSxJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFqQixJQUFzQixDQUFDLElBQUMsQ0FBQSxZQUFZLENBQUMsQ0FBZCxHQUFnQixJQUFDLENBQUEsTUFBTSxDQUFDLFFBQVEsQ0FBQyxDQUFsQyxDQUFBLEdBQXFDLElBRDNELENBQUE7QUFBQSxJQUVBLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQWpCLElBQXNCLENBQUMsSUFBQyxDQUFBLFlBQVksQ0FBQyxDQUFkLEdBQWdCLElBQUMsQ0FBQSxNQUFNLENBQUMsUUFBUSxDQUFDLENBQWxDLENBQUEsR0FBcUMsSUFGM0QsQ0FBQTtBQUFBLElBSUEsSUFBQyxDQUFBLE1BQU0sQ0FBQyxNQUFSLENBQWUsSUFBQyxDQUFBLEtBQUssQ0FBQyxRQUF0QixDQUpBLENBQUE7QUFBQSxJQUtBLE9BQU8sQ0FBQyxRQUFRLENBQUMsTUFBakIsQ0FBd0IsSUFBQyxDQUFBLEtBQXpCLEVBQWdDLElBQUMsQ0FBQSxNQUFqQyxDQUxBLENBRFM7RUFBQSxDQTlCVixDQUFBOztBQUFBLEVBdUNBLE9BQUMsQ0FBQSxNQUFELEdBQVUsU0FBQSxHQUFBO0FBQ1QsSUFBQSxJQUFHLElBQUMsQ0FBQSxRQUFKO0FBQ0MsTUFBQSxJQUFDLENBQUEsTUFBTSxDQUFDLE1BQVIsR0FBaUIsTUFBTSxDQUFDLFVBQVAsR0FBb0IsTUFBTSxDQUFDLFdBQTVDLENBQUE7QUFBQSxNQUNBLElBQUMsQ0FBQSxNQUFNLENBQUMsc0JBQVIsQ0FBQSxDQURBLENBQUE7QUFBQSxNQUVBLElBQUMsQ0FBQSxRQUFRLENBQUMsT0FBVixDQUFtQixNQUFNLENBQUMsVUFBMUIsRUFBc0MsTUFBTSxDQUFDLFdBQTdDLENBRkEsQ0FERDtLQURTO0VBQUEsQ0F2Q1YsQ0FBQTs7aUJBQUE7O0lBRkQsQ0FBQSIsImZpbGUiOiJjb3JlLzNkL1N0YWdlM2QuanMiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8iLCJzb3VyY2VzQ29udGVudCI6WyIjIFxuIyBTdGFnZTNkIGZvciB0aHJlZS5qcyB3aXRoIGV2ZXJ5IGJhc2ljcyB5b3UgbmVlZFxuIyBAYXV0aG9yIERhdmlkIFJvbmFpIC8gTWFraW9wb2xpcy5jb20gLyBATWFraW82NCBcbiMgXG5jbGFzcyBTdGFnZTNkXG5cblx0QGNhbWVyYSA9IG51bGxcblx0QGNhbWVyYVRhcmdldCA9IG51bGxcblx0QHNjZW5lID0gbnVsbFxuXHRAcHJvamVjdG9yID0gbnVsbFxuXHRAcmVuZGVyZXIgPSBudWxsXG5cblx0QGluaXQgPSAob3B0aW9ucyktPlxuXHRcdHcgPSB3aW5kb3cuaW5uZXJXaWR0aFxuXHRcdGggPSB3aW5kb3cuaW5uZXJIZWlnaHRcblxuXHRcdEBjYW1lcmEgPSBuZXcgVEhSRUUuUGVyc3BlY3RpdmVDYW1lcmEoIDQwLCB3IC8gaCwgMSwgMTAwMDAgKVxuXHRcdEBjYW1lcmEucG9zaXRpb24ueiA9IDE1MDAwXG5cdFx0QGNhbWVyYVRhcmdldCA9IG5ldyBUSFJFRS5WZWN0b3IzKDAsMCw0MDApXG5cblx0XHRAc2NlbmUgPSBuZXcgVEhSRUUuU2NlbmUoKVxuXHRcdEBwcm9qZWN0b3IgPSBuZXcgVEhSRUUuUHJvamVjdG9yKClcblxuXHRcdHRyYW5zcGFyZW50ID0gb3B0aW9ucy50cmFuc3BhcmVudHx8ZmFsc2Vcblx0XHRhbnRpYWxpYXMgPSBvcHRpb25zLmFudGlhbGlhc3x8ZmFsc2VcblxuXHRcdEByZW5kZXJlciA9IG5ldyBUSFJFRS5XZWJHTFJlbmRlcmVyKHthbHBoYTp0cmFuc3BhcmVudCxhbnRpYWxpYXM6YW50aWFsaWFzfSlcblx0XHRAcmVuZGVyZXIuc2V0U2l6ZSggdywgaCApXG5cblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKEByZW5kZXJlci5kb21FbGVtZW50KVxuXHRcdHJldHVyblxuXG5cdEBhZGQgPSAob2JqKS0+XG5cdFx0QHNjZW5lLmFkZChvYmopXG5cdFx0cmV0dXJuXG5cblx0QHJlbmRlciA9ICgpLT5cblx0XHRAY2FtZXJhLnBvc2l0aW9uLnggKz0gKEBjYW1lcmFUYXJnZXQueC1AY2FtZXJhLnBvc2l0aW9uLngpKjAuMDVcblx0XHRAY2FtZXJhLnBvc2l0aW9uLnkgKz0gKEBjYW1lcmFUYXJnZXQueS1AY2FtZXJhLnBvc2l0aW9uLnkpKjAuMDVcblx0XHRAY2FtZXJhLnBvc2l0aW9uLnogKz0gKEBjYW1lcmFUYXJnZXQuei1AY2FtZXJhLnBvc2l0aW9uLnopKjAuMDVcblxuXHRcdEBjYW1lcmEubG9va0F0KEBzY2VuZS5wb3NpdGlvbilcblx0XHRTdGFnZTNkLnJlbmRlcmVyLnJlbmRlcihAc2NlbmUsIEBjYW1lcmEpXG5cdFx0cmV0dXJuXG5cblx0QHJlc2l6ZSA9ICgpLT5cblx0XHRpZiBAcmVuZGVyZXJcblx0XHRcdEBjYW1lcmEuYXNwZWN0ID0gd2luZG93LmlubmVyV2lkdGggLyB3aW5kb3cuaW5uZXJIZWlnaHRcblx0XHRcdEBjYW1lcmEudXBkYXRlUHJvamVjdGlvbk1hdHJpeCgpXG5cdFx0XHRAcmVuZGVyZXIuc2V0U2l6ZSggd2luZG93LmlubmVyV2lkdGgsIHdpbmRvdy5pbm5lckhlaWdodCApXG5cdFx0cmV0dXJuIl19